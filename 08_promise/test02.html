<!DOCTYPE html>
<html>
<head>
  <title>Promise example</title>
</head>
<body>
  <h1>Promise example</h1>
  <script>
    // 비동기 함수
    function get(url) {
  // Promise 객체의 생성과 반환
  return new Promise((resolve, reject) => {
    // XMLHttpRequest 객체 생성
    const xhr = new XMLHttpRequest();

    // 서버 응답 시 호출될 이벤트 핸들러
    xhr.onreadystatechange = function () {
      // 서버 응답 완료
      if (xhr.readyState === XMLHttpRequest.DONE) {
        if (xhr.status === 200) { // 정상 응답
          // resolve 메소드에 처리 결과를 전달
          resolve(xhr.response);
        } else { // 비정상 응답
          // reject 메소드에 에러 메시지를 전달
          reject('Error: ' + xhr.status);
        }
      }
    };

    // 비동기 방식으로 Request를 오픈한다
    xhr.open('GET', url);
    // Request를 전송한다
    xhr.send();
  });
}
  </script>
</body>
</html>